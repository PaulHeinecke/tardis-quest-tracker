<!DOCTYPE html>  
<html lang="de">  
<head>  
  <meta charset="UTF-8">  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">  
  <title>Fortschrittsseite</title>  
  <style>  
    body {  
      font-family: Arial, sans-serif;  
      max-width: 800px;  
      margin: 0 auto;  
      padding: 20px;  
    }  
    
    .header {  
      text-align: center;  
      margin-bottom: 30px;  
    }  
    
    .points-container {  
      display: flex;  
      justify-content: space-around;  
      margin: 20px 0;  
      padding: 15px;  
      background-color: #f5f5f5;  
      border-radius: 10px;  
    }  
    
    .points-box {  
      text-align: center;  
    }  
    
    .points-value {  
      font-size: 2rem;  
      font-weight: bold;  
    }  
    
    .points-label {  
      font-size: 0.9rem;  
      color: #666;  
    }  
    
    .milestones {  
      margin-top: 40px;  
    }  
    
    .milestone {  
      display: flex;  
      flex-wrap: wrap;  
      align-items: center;  
      margin-bottom: 20px;  
      padding: 15px;  
      background-color: #f9f9f9;  
      border-radius: 8px;  
      border-left: 5px solid #ddd;  
    }  
    
    .milestone-icon {  
      font-size: 2rem;  
      margin-right: 15px;  
    }  
    
    .milestone-name {  
      font-weight: bold;  
      margin-right: 15px;  
    }  
    
    .milestone-points {  
      color: #666;  
    }  
    
    .milestone-lock {  
      display: inline-block;  
      margin-left: 10px;  
    }  
    
    .milestone-reward {  
      flex-basis: 100%;  
      margin-top: 10px;  
      padding: 8px;  
      background-color: #f0f0f0;  
      border-radius: 5px;  
      display: none;  
    }  
    
    /* F√ºr freigeschaltete Meilensteine */  
    .milestone.unlocked {  
      border-left-color: #4CAF50;  
    }  
    
    .milestone.unlocked .milestone-name {  
      color: #4CAF50;  
    }  
    
    .milestone.unlocked .milestone-reward {  
      display: block;  
      border-left: 3px solid #4CAF50;  
    }  
    
    .milestone.unlocked .milestone-lock {  
      display: none;  
    }  
    
    .nav-buttons {  
      display: flex;  
      justify-content: space-between;  
      margin-top: 30px;  
    }  
    
    button {  
      padding: 10px 15px;  
      background-color: #4CAF50;  
      color: white;  
      border: none;  
      border-radius: 5px;  
      cursor: pointer;  
    }  
    
    button:hover {  
      background-color: #45a049;  
    }  
  </style>  
</head>  
<body>  
  <div class="header">  
    <h1>Dein Fortschritt</h1>  
  </div>  
  
  <div class="points-container">  
    <div class="points-box">  
      <div class="points-value" id="totalPoints">0</div>  
      <div class="points-label">Gesamtpunkte</div>  
    </div>  
    <div class="points-box">  
      <div class="points-value" id="availablePoints">0</div>  
      <div class="points-label">Verf√ºgbare Punkte</div>  
    </div>  
  </div>  
  
  <h2>Deine Meilensteine</h2>  
  
  <div class="milestones">  
    <div class="milestone" data-points="400" id="milestone-1">  
      <div class="milestone-icon">üèÜ</div>  
      <div class="milestone-name">FIGURENJ√ÑGER ANF√ÑNGER <span class="milestone-lock">üîí</span></div>  
      <div class="milestone-points">400 Punkte</div>  
      <div class="milestone-reward">Belohnung: Ein neues Kapitel f√ºr dein Abenteuer!</div>  
    </div>  
    
    <div class="milestone" data-points="800" id="milestone-2">  
      <div class="milestone-icon">üèÜ</div>  
      <div class="milestone-name">FIGURENJ√ÑGER FORTGESCHRITTEN <span class="milestone-lock">üîí</span></div>  
      <div class="milestone-points">800 Punkte</div>  
      <div class="milestone-reward">Belohnung: Freischaltung einer neuen Figuren-Kategorie!</div>  
    </div>  
    
    <div class="milestone" data-points="1200" id="milestone-3">  
      <div class="milestone-icon">üèÜ</div>  
      <div class="milestone-name">FIGURENJ√ÑGER PROFI <span class="milestone-lock">üîí</span></div>  
      <div class="milestone-points">1200 Punkte</div>  
      <div class="milestone-reward">Belohnung: Ein Geheimnis wird gel√ºftet!</div>  
    </div>  
  </div>  
  
  <div class="nav-buttons">  
    <button onclick="location.href='elephants.html'">Zur Elefantensammlung</button>  
  </div>  
  
  <script>  
    // Variablen f√ºr die Punkte  
    let totalPoints = 0;  
    let availablePoints = 0;  
    
    // Funktion zum Aktualisieren der Punkte-Anzeige  
    function updatePoints() {  
      document.getElementById('totalPoints').textContent = totalPoints;  
      document.getElementById('availablePoints').textContent = availablePoints;  
      
      // Aktualisiere Meilensteine  
      const milestones = document.querySelectorAll('.milestone');  
      milestones.forEach(milestone => {  
        const requiredPoints = parseInt(milestone.getAttribute('data-points') || '0');  
        
        if (totalPoints >= requiredPoints) {  
          milestone.classList.add('unlocked');  
        } else {  
          milestone.classList.remove('unlocked');  
        }  
      });  
    }  
    
    // Funktion zum Laden der Punkte aus dem localStorage  
    function loadPoints() {  
      // Pr√ºfe zuerst auf Elefantenpunkte  
      const elephantTotal = parseInt(localStorage.getItem('elephant_totalPoints') || '0');  
      const elephantAvailable = parseInt(localStorage.getItem('elephant_availablePoints') || '0');  
      
      if (elephantTotal > 0) {  
        // Wenn Elefantenpunkte existieren, verwende diese  
        totalPoints = elephantTotal;  
        availablePoints = elephantAvailable;  
        console.log("Punkte von Elefantensammlung geladen:", totalPoints, availablePoints);  
      } else {  
        // Ansonsten lade die regul√§ren Punkte  
        totalPoints = parseInt(localStorage.getItem('totalPoints') || '0');  
        availablePoints = parseInt(localStorage.getItem('availablePoints') || '0');  
      }  
      
      // Aktualisiere die Anzeige  
      updatePoints();  
    }  
    
    // Funktion zum Aktualisieren der Punkte von der Elefantenseite  
    function updatePointsFromElephants(newTotalPoints, newAvailablePoints) {  
      console.log("Punkte von Elefanten erhalten:", newTotalPoints, newAvailablePoints);  
      totalPoints = newTotalPoints;  
      availablePoints = newAvailablePoints;  
      
      // Speichere die Punkte  
      localStorage.setItem('totalPoints', totalPoints);  
      localStorage.setItem('availablePoints', availablePoints);  
      localStorage.setItem('elephant_totalPoints', totalPoints);  
      localStorage.setItem('elephant_availablePoints', availablePoints);  
      
      // Aktualisiere die Anzeige  
      updatePoints();  
    }  
    
    // Lade die Punkte beim Seitenstart  
    document.addEventListener('DOMContentLoaded', function() {  
      loadPoints();  
    });  
  </script>  
</body>  
</html>
